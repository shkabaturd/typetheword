{"version":3,"sources":["hello.cljs"],"mappings":";AASA,AAAKA,mBAAW,gDAAA,hDAACC;AAEjB,cAAA,dAAKC;AAGL,wBAAA,xBAAMC,wDAAiBC;AAAvB,AACE,IAAMC,MAAI,AAAOD;gBAAjB,mFAAA,QAAA,UAAA,QAAA,MAAA,MAAA,SAAA,OAAA,rJACOE;AADP,AAEE,uBAAA,mFAAA,1GAACC,wKAAwBF;;AACzB,GAAM,AAACG,cAAI,AAACC,4BAAgBH,UAAUD;AAAtC,AACE,AAACK,sBAAOV,iBAAW,6CAAA,AAAAW,gBAAMX,+DAAWK;;AADtC;;AAEA,oBAAM,+BAAA,AAAAM,/BAACC,mBAAaV,4BAAOF;AAA3B,AACE,OAACU,sBAAOV,iBAAW,AAACa,8CAAMC,cAAI,kBAAA,AAAAH,lBAACI,kCAASf;;AAD1C;;;AAGJ,4BAAA,5BAAMgB;AAAN,AAAA,0FAAA,mDAAA,mFAAA,kDAAA,wHAAA,rCAESC,yBAAmBf,gBAAU,gBAAA,AAAAS,hBAACO,gCAAOlB;;AAG9C,gBAAA,hBAAMmB;AAAN,AACE,iDAAA,jDAACC,oIAAWJ,kCACD,AAAQK;;AACnB,+BAAA,xBAAmBC,kCAAoBnB;;AAEzC,aAAA,bAAMoB;AAAN,AACE,uGAAA,vGAACC;;AACD,OAACL","names":["hello/typed-text","reagent.core.atom","hello/chors","hello/handle-key-down","event","key","key-names","re-frame.core/dispatch","cljs.core/not","helpers/contains-str?","cljs.core/reset!","cljs.core/deref","helpers/first-diff","cljs.core.apply","cljs.core/str","cljs.core/butlast","hello/state-ful-with-atom","helpers/add-transparency","cljs.core/count","hello/mountit","reagent.dom.render","js/document","js/window","hello/init","cljs.core.print"],"sourcesContent":["(ns hello\r\n   (:require [reagent.core :as r]\r\n             [reagent.dom :as rd]\r\n             [components :as c]\r\n             [re-frame.core :as rf]\r\n             [helpers :as h]\r\n             [effect-handlers]\r\n             [event-handlers]))\r\n\r\n(def typed-text (r/atom \"\"))\r\n\r\n(def chors \"\u0418\u0431\u043e \u0435\u0441\u043b\u0438 \u0432\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u043f\u0440\u043e\u0449\u0430\u0442\u044c \u043b\u044e\u0434\u044f\u043c \u0441\u043e\u0433\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0438\u0445, \u0442\u043e \u043f\u0440\u043e\u0441\u0442\u0438\u0442 \u0438 \u0432\u0430\u043c \u041e\u0442\u0435\u0446 \u0432\u0430\u0448 \u041d\u0435\u0431\u0435\u0441\u043d\u044b\u0439.\")\r\n\r\n \r\n(defn handle-key-down [event]\r\n  (let [key (.-key event)\r\n         key-names [\"Enter\" \"Control\" \"Shift\" \"Alt\" \"Tab\" \"Escape\" \"Meta\" \"Backspace\"]]\r\n    (rf/dispatch [:key-press key])\r\n    (when (not (h/contains-str? key-names key))\r\n      (reset! typed-text (str @typed-text key)))\r\n    (when (h/first-diff chors @typed-text)\r\n      (reset! typed-text (apply str (butlast @typed-text))))))\r\n\r\n(defn state-ful-with-atom []\r\n  [:div \r\n   [:h1 [h/add-transparency chors 0.3 (count @typed-text)]]\r\n   #_[:h1 {:style {:color \"red\"}} (or @typed-text \"hoho...\")]])\r\n\r\n(defn mountit []\r\n  (rd/render [state-ful-with-atom]\r\n             (.-body js/document))\r\n  (.addEventListener js/window \"keydown\" handle-key-down))\r\n\r\n(defn init []\r\n  (print \"Hello\")\r\n  (mountit)\r\n  )\r\n"]}